/* eS-slideshow v1.0 - Copyright (c) 2015 Steven Crocker (http://www.stevencrocker.com) */
jQuery.fn.eSslideshow=function(e){function o(){setTimeout(function(){n=setInterval(function(){a()},s.interval)},s.delay)}function u(){t.find(".eS-slide:first").fadeOut(s.speed).removeClass("eS-active");t.find(".eS-slide:last").addClass("eS-active").prependTo(t.find(".eS-slides")).fadeIn(s.speed);f()}function a(){t.find(".eS-slide:first").fadeOut(s.speed).removeClass("eS-active").next().fadeIn(s.speed).addClass("eS-active").end().appendTo(t.find(".eS-slides"));f()}function f(){i=t.find(".eS-slide.eS-active").data("slidenum");t.find(".eS-pager span").removeClass("eS-active");t.find(".eS-pager-"+i).addClass("eS-active")}var t=this,n,r=1,i=1;var s=$.extend({speed:500,interval:3e3,delay:0,pauseonhover:true,manual:false,navigation:true,navfactor:15,prev:"&#9668;",next:"&#9658;",rounding:20,pager:false,keyboard:true},e);t.addClass("eS-slideshow");t.wrapInner('<div class="eS-slides"></div>');if(s.pager){$('<div class="eS-pager"></div>').appendTo(t)}t.find(".eS-slides > *").each(function(){var e=$(this);if(e.is("div")){e.addClass("eS-slide")}else{e.wrap('<div class="eS-slide"></div>');e=e.parent()}e.data("slidenum",r).addClass("eS-slide-"+r);if(s.pager){$('<span class="eS-pager-'+r+'"></span>').data("slidenum",r).on("click",function(){var e=t.find(".eS-slide:first");var n=t.find(".eS-slide-"+$(this).data("slidenum"));for(var r=t.find(".eS-slide-"+$(this).data("slidenum")).index();r>0;r--){t.find(".eS-slide:first").appendTo(t.find(".eS-slides"))}if(i!=$(this).data("slidenum")){e.removeClass("eS-active").fadeOut(s.speed);n.addClass("eS-active").fadeIn(s.speed)}f()}).appendTo(t.find(".eS-pager"))}r++});r=1;t.find(".eS-pager-1").addClass("eS-active");t.find(".eS-slide:gt(0)").hide();$('<div class="eS-keeper"></div>').prependTo(t);t.find("img:first").clone().appendTo(t.find(".eS-keeper"));if(s.navigation){$('<div class="eS-prev"><span>'+s.prev+"</span></div>").on("click",function(){u()}).appendTo(t);$('<div class="eS-next"><span>'+s.next+"</span></div>").on("click",function(){a()}).appendTo(t)}t.on("click",function(){$(this).addClass("eS-active").focus()});t.on("blur",function(){$(this).removeClass("eS-active")});if(s.keyboard){t.attr("tabindex","-1");t.on("click",function(){});t.on("keydown",function(e){var t=e.keyCode||e.which;switch(e.which){case 37:u();break;case 39:a();break}})}if(s.pauseonhover){t.hover(function(){clearInterval(n)},function(){if(!s.manual)o()})}$(window).on("resize",function(e){t.find(".eS-prev span, .eS-next span").css({"font-size":t.width()/s.navfactor})}).resize();t.css({"-webkit-border-radius":s.rounding,"border-radius":s.rounding});t.find(".eS-prev").css({"-webkit-border-top-left-radius":s.rounding,"border-top-left-radius":s.rounding,"-webkit-border-bottom-left-radius":s.rounding,"border-bottom-left-radius":s.rounding});t.find(".eS-next").css({"-webkit-border-top-right-radius":s.rounding,"border-top-right-radius":s.rounding,"-webkit-border-bottom-right-radius":s.rounding,"border-bottom-right-radius":s.rounding});if(!s.manual)o();return this}